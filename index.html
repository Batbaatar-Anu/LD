<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>Demo</title>

<style>
  html,body{margin:0;height:100%;background:#000}
  #unity-canvas{width:100vw;height:100vh;display:block}
  #overlay{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;pointer-events:none;display:none;z-index:4}
  #gate{position:fixed;inset:0;display:grid;place-items:center;background:#000;color:#fff;z-index:5}
  button{padding:14px 22px;border-radius:12px;border:0;font-size:16px}
</style>
</head><body>
  <canvas id="unity-canvas" tabindex="-1"></canvas>
  <video id="overlay" playsinline muted loop></video>
  <div id="gate"><button id="startBtn">Start</button></div>

<script>
  const v = document.getElementById('overlay');
  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

  const MOV_URL  = "https://archive.org/download/intro1_202508/intro1.mov";   // ← ЭНД өөрийн .mov альфа видео шууд URL
  const WEBM_URL = null;             // Хэрэв webm+alpha байгаа бол "https://..." гэж өг

  v.src = (!isSafari && WEBM_URL) ? WEBM_URL : MOV_URL;

  createUnityInstance(document.querySelector("#unity-canvas"), {
    dataUrl:"", frameworkUrl:"", codeUrl:"",
    memoryUrl:"", symbolsUrl:"",
    companyName:"DefaultCompany", productName:"Demo", productVersion:"0.1"
  });

  document.getElementById('startBtn').onclick = () => {
    document.getElementById('gate').style.display = 'none';
    v.currentTime = 0; v.play().catch(console.warn);
  };

  window.Overlay = {
    show: (s)=> v.style.display = s ? 'block' : 'none',
    play: ()=> { v.currentTime = 0; v.play(); },
    pause: ()=> v.pause()
  };
</script>
</body></html>
